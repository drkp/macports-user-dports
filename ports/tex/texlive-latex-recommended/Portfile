# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           texlive 1.0

name                texlive-latex-recommended
version             23089
revision            0

categories          tex
maintainers         dports
description         TeX Live: LaTeX recommended packages
long_description    A collection of recommended add-on packages for LaTeX which have widespread use

checksums           texlive-latex-recommended-23089-run.tar.xz \
                    md5     22fa5fb1dda1d41e39f2b2b708e29424 \
                    sha1    2682380e90b96d338588e703943b97a6deded85b \
                    rmd160  a0b358beef2215c1bc8798108e1793200691b6dc \
                    texlive-latex-recommended-23089-doc.tar.xz \
                    md5     6997bac6135d98ef6b49413254f95bf0 \
                    sha1    cfdcaa4826da13de0727319bd3e2423781a2a595 \
                    rmd160  3f7ddfb5b93d57b3f8d9a2582df4954f9fae2ea6 \
                    texlive-latex-recommended-23089-src.tar.xz \
                    md5     33f5f54c730d67840c788a7cf6848f1a \
                    sha1    bed7925e910c4ef7aad179fc6ef3f5984a093c0d \
                    rmd160  445211c9a747ef7803884b371bbfd38ee4ec929e

depends_lib         port:texlive-latex

texlive.binaries    thumbpdf

# beamer requires pgf; see #25478
depends_lib-append port:pgf

pre-activate {
    # fontspec moved from texlive-xetex in TL2011
    if {![catch {set vers [lindex [registry_active texlive-xetex] 0]}]
        && [rpm-vercomp [lindex $vers 1] 23080] < 0} {
        set deactivate_proc registry_deactivate_composite
        if {[info commands registry_deactivate_composite] == {}} {
            set deactivate_proc registry_deactivate
        }
        $deactivate_proc texlive-xetex "" [list ports_nodepcheck 1]
    }

    # textcase moved from texlive-latex-extra in TL2011
    if {![catch {set vers [lindex [registry_active texlive-latex-extra] 0]}]
        && [rpm-vercomp [lindex $vers 1] 22931] < 0} {
        set deactivate_proc registry_deactivate_composite
        if {[info commands registry_deactivate_composite] == {}} {
            set deactivate_proc registry_deactivate
        }
        $deactivate_proc texlive-latex-extra "" [list ports_nodepcheck 1]
    }
}

texlive.texmfport
