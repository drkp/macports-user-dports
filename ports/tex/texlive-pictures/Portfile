# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           texlive 1.0

name                texlive-pictures
version             22961
revision            0

categories          tex
maintainers         dports
description         TeX Live: Graphics packages and programs
long_description    Graphics packages and programs

checksums           texlive-pictures-22961-run.tar.xz \
                    md5     7d591441a4d972b6be22eeea98d8c9f3 \
                    sha1    499d3977d9cfcc4481e33d0a195ad9d203d97b16 \
                    rmd160  dcb5cd77414f236f7b9a6138099b17b1fdc43528 \
                    texlive-pictures-22961-doc.tar.xz \
                    md5     7a08585b651f3b137c19b94c2623161d \
                    sha1    8c7efbcc6f4c38f09ab978da1bc665e9f7bf5106 \
                    rmd160  2d2638937c384973401fff6abf976ad142acab59 \
                    texlive-pictures-22961-src.tar.xz \
                    md5     0d2957826f8d24af509e56fb3d94b6fd \
                    sha1    e4642c1109a5ace0f981c29700eeedf26b342447 \
                    rmd160  8fb8739194b2781a86fbd909b95e1e1f648b2940

depends_lib         port:texlive-basic

texlive.maps      \
    {Map knitfont.map} \
    {MixedMap xypic.map}

texlive.binaries    cachepic epspdf epspdftk fig4latex mathspic

# use pgf port to satisfy pgf dependency (see #25478)
depends_lib-append port:pgf

pre-activate {
    if {![catch {set vers [lindex [registry_active texlive-latex-extra] 0]}]
        && [rpm-vercomp [lindex $vers 1] 19538] < 0} {
        set deactivate_proc registry_deactivate_composite
        if {[info commands registry_deactivate_composite] == {}} {
            set deactivate_proc registry_deactivate
        }
        $deactivate_proc texlive-latex-extra "" [list ports_nodepcheck 1]
    }
}

texlive.texmfport
