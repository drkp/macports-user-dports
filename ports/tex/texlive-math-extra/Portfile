# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           texlive 1.0

name                texlive-math-extra
version             23089
revision            0

categories          tex
maintainers         dports
description         TeX Live: Advanced math typesetting
long_description    Extra math

checksums           texlive-math-extra-23089-run.tar.xz \
                    md5     2745f92436e5191b5c4666825b9fb6ec \
                    sha1    0d9ad8015b28099059a6081aacd8fcf7e3604b1c \
                    rmd160  db99185fa0052e19fa273135374fc6e6bab86c81 \
                    texlive-math-extra-23089-doc.tar.xz \
                    md5     79c6e66b239d911f469f5d1b7a1e2c7d \
                    sha1    93eeef45f9d34c2c114a06c257224c13e0d8db4b \
                    rmd160  b0f5d499da766d5b24abb51a2bea69e7caf272fe \
                    texlive-math-extra-23089-src.tar.xz \
                    md5     9b325d84b7a50f22c8adeeabcef8e599 \
                    sha1    327076b4d7cdc1fc5ca3cd81149f07d7c0e73469 \
                    rmd160  337a6786d48e6bf1c2cc6eb3fdc8ea2611404efb

depends_lib         port:texlive-fonts-recommended port:texlive-latex

texlive.formats      \
    {1 amstex pdftex - {-translate-file=cp227.tcx *amstex.ini}}

texlive.maps      \
    {MixedMap stmaryrd.map} \
    {MixedMap yhmath.map}

texlive.binaries    amstex

pre-activate {
    # binomexp moved from texlive-latex-extra to texlive-math-extra in TL2010
    if {![catch {set vers [lindex [registry_active texlive-latex-extra] 0]}]
        && [rpm-vercomp [lindex $vers 1] 19538] < 0} {
        set deactivate_proc registry_deactivate_composite
        if {[info commands registry_deactivate_composite] == {}} {
            set deactivate_proc registry_deactivate
        }
        $deactivate_proc texlive-latex-extra "" [list ports_nodepcheck 1]
    }
}

texlive.texmfport
