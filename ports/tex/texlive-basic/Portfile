# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           texlive 1.0

name                texlive-basic
version             17228
revision            0

categories          tex
maintainers         dports
description         TeX Live: Essential programs and files
long_description    These files are regarded as basic for any TeX system, covering plain TeX macros, Computer Modern fonts, and configuration for common drivers\; no LaTeX.

checksums           md5     28b9ed12d50badf100a2cbcb1cd65511 \
                    sha1    d843e9b1d2aac7c9470f6f98c0a9b20919e73076 \
                    rmd160  c22c6a91256bbeb71d2163f4d23dd2611073095c

depends_lib         port:texlive-documentation-base

texlive.formats      \
    {1 luatex luatex language.def,language.dat.lua {luatex.ini}} \
    {1 dviluatex luatex language.def,language.dat.lua {dviluatex.ini}} \
    {1 mf mf-nowin - {-translate-file=cp227.tcx mf.ini}} \
    {1 pdftex pdftex language.def {-translate-file=cp227.tcx *pdfetex.ini}} \
    {1 etex pdftex language.def {-translate-file=cp227.tcx *etex.ini}} \
    {1 pdfetex pdftex language.def {-translate-file=cp227.tcx *pdfetex.ini}} \
    {1 tex tex - {tex.ini}}

texlive.maps      \
    {MixedMap cm.map} \
    {MixedMap cmextra.map} \
    {MixedMap cyrillic.map} \
    {Map euler.map} \
    {MixedMap latxfont.map} \
    {MixedMap symbols.map} \
    {MixedMap cmtext-bsr-interpolated.map} \
    {MixedMap mflogo.map}

texlive.binaries    xdvi kpsepath afm2tfm texlua ebb kpsexpand updmap-sys kpsereadlink allneeded mktexmf mkindex bibtex dvired mft tex fmtutil-sys dvipdfm dvipdfmx texconfig-dialog allcm simpdftex pktype dvips gftodvi gftopk kpsewhere kpsestat gftype extractbb kpseaccess kpsetool allec texconfig-sys mktexlsr dvi2fax mkofm gsftopk mktextfm pdftex pktogf luatex dvipdft fmtutil kpsewhich mf-nowin mktexpk texconfig texluac xdvi-xaw updmap makeindex texlinks tcdialog mkocp mktexfmt texhash

texlive.exclude     texmf/web2c/fmutil.cnf \
                    texmf/web2c/texmf.cnf \
                    texmf/web2c/updmap.cfg \
                    texmf/tex/generic/config/language.dat \
                    texmf/tex/generic/config/language.def

pre-activate {
    # If texlive 2007 metaport is installed, deactivate it to avoid
    # conflicts on $prefix/bin/etex etc.
    if {[file exists $prefix/bin/etex] 
        && ![catch {set vers [lindex [registry_active texlive] 0]}]
        && [rpm-vercomp [lindex $vers 1] 2009] < 0} {
        registry_deactivate texlive "" [list ports_nodepcheck 1]
    }
}

texlive.forceupdatecnf yes

texlive.texmfport
