# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           texlive 1.0

name                texlive-context
version             23171
revision            0

categories          tex
maintainers         dports
description         TeX Live: ConTeXt format
long_description    Hans Hagen's powerful ConTeXt system, http://pragma-ade.com. Also includes third-party ConTeXt packages.

checksums           texlive-context-23171-run.tar.xz \
                    md5     9333879de6d8a124b9f7411dd80c1fc8 \
                    sha1    4fe4ac627fc4d0f1e5e21214f10a467611f5ecbe \
                    rmd160  a081f437c508e1426ac13734c422e6fed2b8fdd2 \
                    texlive-context-23171-doc.tar.xz \
                    md5     ec20237b292a2b9c1cee30095cef24fe \
                    sha1    cdc5a773dbdde6c3b1e4151c825791aed1131787 \
                    rmd160  686c74b439ac57ee111e85b001af958562657222 \
                    texlive-context-23171-src.tar.xz \
                    md5     91e946655b8d49c4ffe86137aef578f0 \
                    sha1    f4dbf31bf2cf3d87464d7be51c441d3781355d19 \
                    rmd160  e291ec9215640768b9c40a6af433d78c43153c5d

depends_lib         port:texlive-basic

texlive.formats      \
    {1 cont-en pdftex cont-usr.tex {-8bit *cont-en.ini}} \
    {1 cont-en xetex cont-usr.tex {-8bit *cont-en.ini}} \
    {0 cont-de pdftex cont-usr.tex {-8bit *cont-de.ini}} \
    {0 cont-fr pdftex cont-usr.tex {-8bit *cont-fr.ini}} \
    {0 cont-it pdftex cont-usr.tex {-8bit *cont-it.ini}} \
    {0 cont-nl pdftex cont-usr.tex {-8bit *cont-nl.ini}} \
    {0 cont-ro pdftex cont-usr.tex {-8bit *cont-ro.ini}}

texlive.maps      \
    {Map original-context-symbol.map}

texlive.binaries    context ctxtools luatools mtxrun pstopdf rlxtools texexec texmfstart

patchfiles          patch-runfiles_texmf-dist_tex_context_base_data-res.lua.diff

post-patch {
    reinplace "s|@@TEXMFSYSCONFIG@@|${texlive_texmfsysconfig}|" ${worksrcpath}/runfiles/texmf-dist/tex/context/base/data-res.lua
}

depends_lib-append  port:texlive-latex \
                    port:texlive-metapost \
                    port:texlive-xetex \
                    port:texlive-fonts-recommended \
                    port:texlive-math-extra

texlive.texmfport
